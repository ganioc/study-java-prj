description = "My test of gradle"

println "${project.description}"
ext {
  outputlang="English"
}
println "${project.outputlang}"
ext.author="Spike"

println "${project.author}"

defaultTasks  "display"

task display {
  description = "Display Task for demo."
  doFirst{
    println "display task"
    println "${description}"
  }
  doLast{
    println "display ended."
  }
}

task clean{
  doFirst{
    println "clean task"
    delete 'dist'
  }

}

task compile{
  doFirst{
    println "compile task"
  }
}

compile.dependsOn "clean"

task ("package", dependsOn: "compile"){
  doFirst{
    println "package task"
  }
}



task copyTask(type:Copy){
  from 'src'
  into 'dist/orig'
  doFirst{
    println 'copyTask'
  }
}

task showVersion(type:Exec){
  commandLine 'ls'
}

task archiveTask(type:Zip, dependsOn: copyTask){
  
  from 'dist/orig'
  into 'dist'
  baseName 'orig'
  destinationDir file('dist')
  doFirst{
    println 'begin to archive'
  }
  doLast{
    println 'archive to  orig.zip finished'
  }
}